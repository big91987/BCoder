# Cline Auto-approve åŠŸèƒ½æ·±åº¦åˆ†æ

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

Cline çš„ Auto-approve Settings æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æƒé™æ§åˆ¶ç³»ç»Ÿï¼Œå…è®¸ç”¨æˆ·ç²¾ç»†åŒ–åœ°æ§åˆ¶ AI Agent å¯ä»¥è‡ªåŠ¨æ‰§è¡Œå“ªäº›æ“ä½œï¼Œæ— éœ€æ¯æ¬¡éƒ½æ‰‹åŠ¨ç¡®è®¤ã€‚

## ğŸ›ï¸ æƒé™æ§åˆ¶çŸ©é˜µ

### Actions (æ“ä½œæƒé™)

| æƒé™é¡¹ | å›¾æ ‡ | é»˜è®¤çŠ¶æ€ | é£é™©çº§åˆ« | åŠŸèƒ½æè¿° |
|-------|------|---------|---------|---------|
| **Enable auto-approve** | â–¶ï¸ | âœ… å¯ç”¨ | ğŸŸ¢ ä½ | æ€»å¼€å…³ï¼Œæ§åˆ¶æ˜¯å¦å¯ç”¨è‡ªåŠ¨æ‰¹å‡† |
| **Read project files** | ğŸ” | âœ… å¯ç”¨ | ğŸŸ¢ ä½ | è¯»å–å½“å‰é¡¹ç›®èŒƒå›´å†…çš„æ–‡ä»¶ |
| **Read all files** | ğŸ“ | âŒ ç¦ç”¨ | ğŸŸ¡ ä¸­ | è¯»å–ç³»ç»Ÿä¸­çš„ä»»æ„æ–‡ä»¶ |
| **Edit project files** | âœï¸ | âœ… å¯ç”¨ | ğŸŸ¡ ä¸­ | ç¼–è¾‘å½“å‰é¡¹ç›®èŒƒå›´å†…çš„æ–‡ä»¶ |
| **Execute safe commands** | âš¡ | âœ… å¯ç”¨ | ğŸŸ¡ ä¸­ | æ‰§è¡Œé¢„å®šä¹‰çš„å®‰å…¨å‘½ä»¤åˆ—è¡¨ |
| **Execute all commands** | ğŸ”§ | âŒ ç¦ç”¨ | ğŸ”´ é«˜ | æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ |
| **Use the browser** | ğŸŒ | âŒ ç¦ç”¨ | ğŸŸ¡ ä¸­ | å¯åŠ¨å’Œæ§åˆ¶æµè§ˆå™¨ |
| **Use MCP servers** | ğŸ”Œ | âŒ ç¦ç”¨ | ğŸŸ¡ ä¸­ | è°ƒç”¨ MCP åè®®æœåŠ¡å™¨ |

### Quick Settings (å¿«é€Ÿè®¾ç½®)

| è®¾ç½®é¡¹ | é»˜è®¤å€¼ | åŠŸèƒ½æè¿° |
|-------|--------|---------|
| **Enable notifications** | âŒ ç¦ç”¨ | æ“ä½œæ‰§è¡Œæ—¶æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥ |
| **Max Requests** | 20 | å•æ¬¡ä¼šè¯æœ€å¤§è¯·æ±‚æ•°é™åˆ¶ |

## ğŸ¯ è®¾è®¡äº®ç‚¹åˆ†æ

### 1. åˆ†å±‚æƒé™è®¾è®¡
```
å®‰å…¨çº§åˆ«åˆ†å±‚:
ğŸŸ¢ ä½é£é™©: è¯»å–é¡¹ç›®æ–‡ä»¶ (é»˜è®¤å…è®¸)
ğŸŸ¡ ä¸­é£é™©: ç¼–è¾‘æ–‡ä»¶ã€å®‰å…¨å‘½ä»¤ (å¯é€‰å…è®¸)  
ğŸ”´ é«˜é£é™©: æ‰§è¡Œæ‰€æœ‰å‘½ä»¤ (é»˜è®¤ç¦æ­¢)
```

### 2. æ™ºèƒ½é»˜è®¤é…ç½®
```
é»˜è®¤å¯ç”¨ (æå‡æ•ˆç‡):
- Enable auto-approve âœ…
- Read project files âœ…  
- Execute safe commands âœ…
- Edit project files âœ…

é»˜è®¤ç¦ç”¨ (ä¿è¯å®‰å…¨):
- Read all files âŒ
- Execute all commands âŒ
- Use the browser âŒ
- Use MCP servers âŒ
```

### 3. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
```
è§†è§‰è®¾è®¡:
- â­ æ˜Ÿæ ‡è¡¨ç¤ºæ¨èè®¾ç½®
- âœ… å¤é€‰æ¡†æ¸…æ™°æ˜¾ç¤ºçŠ¶æ€
- ğŸ¨ å›¾æ ‡å¢å¼ºå¯è¯»æ€§
- ğŸ“± å“åº”å¼å¸ƒå±€è®¾è®¡
```

## ğŸ”’ å®‰å…¨æœºåˆ¶

### å®‰å…¨å‘½ä»¤ç™½åå• (æ¨æµ‹)
```bash
# æ–‡ä»¶æ“ä½œ
ls, cat, head, tail, grep, find
pwd, cd, mkdir, cp, mv

# Git æ“ä½œ  
git status, git log, git diff, git add
git commit, git push, git pull

# å¼€å‘å·¥å…·
npm install, npm run, npm test
python -m pytest, cargo test
make, cmake

# ç³»ç»Ÿä¿¡æ¯
ps, top, df, free, uname
```

### å±é™©å‘½ä»¤ç¤ºä¾‹ (éœ€è¦ç¡®è®¤)
```bash
# ç³»ç»Ÿæ“ä½œ
sudo, rm -rf, chmod, chown
systemctl, service

# ç½‘ç»œæ“ä½œ
curl, wget, ssh, scp

# è¿›ç¨‹æ§åˆ¶
kill, killall, pkill

# æ–‡ä»¶ç³»ç»Ÿ
mount, umount, fdisk
```

## ğŸ’¡ BCoder å®ç°æ–¹æ¡ˆ

### æƒé™ç³»ç»Ÿæ¶æ„
```typescript
interface AutoApproveSettings {
  // æ€»å¼€å…³
  enabled: boolean;
  
  // æ–‡ä»¶æ“ä½œæƒé™
  filePermissions: {
    readProjectFiles: boolean;
    readAllFiles: boolean;
    editProjectFiles: boolean;
    editAllFiles: boolean;
  };
  
  // å‘½ä»¤æ‰§è¡Œæƒé™
  commandPermissions: {
    executeSafeCommands: boolean;
    executeAllCommands: boolean;
    customWhitelist: string[];
  };
  
  // å¤–éƒ¨æœåŠ¡æƒé™
  externalPermissions: {
    useBrowser: boolean;
    useMCPServers: boolean;
    useWebSearch: boolean;
  };
  
  // å¿«é€Ÿè®¾ç½®
  quickSettings: {
    enableNotifications: boolean;
    maxRequests: number;
    sessionTimeout: number;
  };
}
```

### æƒé™æ£€æŸ¥é€»è¾‘
```typescript
class PermissionManager {
  async checkPermission(action: Action): Promise<boolean> {
    const settings = await this.getAutoApproveSettings();
    
    // æ€»å¼€å…³æ£€æŸ¥
    if (!settings.enabled) {
      return await this.requestUserApproval(action);
    }
    
    // å…·ä½“æƒé™æ£€æŸ¥
    switch (action.type) {
      case 'read_file':
        return this.checkFileReadPermission(action, settings);
      case 'edit_file':
        return this.checkFileEditPermission(action, settings);
      case 'execute_command':
        return this.checkCommandPermission(action, settings);
      default:
        return await this.requestUserApproval(action);
    }
  }
  
  private checkCommandPermission(action: Action, settings: AutoApproveSettings): boolean {
    if (settings.commandPermissions.executeAllCommands) {
      return true;
    }
    
    if (settings.commandPermissions.executeSafeCommands) {
      return this.isSafeCommand(action.command);
    }
    
    return false;
  }
  
  private isSafeCommand(command: string): boolean {
    const safeCommands = [
      'ls', 'cat', 'head', 'tail', 'grep', 'find',
      'git status', 'git log', 'git diff',
      'npm test', 'npm run build',
      'python -m pytest', 'cargo test'
    ];
    
    return safeCommands.some(safe => command.startsWith(safe));
  }
}
```

### UI ç»„ä»¶è®¾è®¡
```typescript
interface AutoApproveSettingsProps {
  settings: AutoApproveSettings;
  onSettingsChange: (settings: AutoApproveSettings) => void;
}

const AutoApproveSettingsPanel: React.FC<AutoApproveSettingsProps> = ({
  settings,
  onSettingsChange
}) => {
  return (
    <div className="auto-approve-settings">
      <h3>Auto-approve Settings</h3>
      
      {/* Actions Section */}
      <section className="actions-section">
        <h4>Actions:</h4>
        <PermissionCheckbox
          icon="â–¶ï¸"
          label="Enable auto-approve"
          checked={settings.enabled}
          recommended={true}
          onChange={(checked) => updateSetting('enabled', checked)}
        />
        
        <PermissionCheckbox
          icon="ğŸ”"
          label="Read project files"
          checked={settings.filePermissions.readProjectFiles}
          recommended={true}
          onChange={(checked) => updateFilePermission('readProjectFiles', checked)}
        />
        
        {/* æ›´å¤šæƒé™é€‰é¡¹... */}
      </section>
      
      {/* Quick Settings Section */}
      <section className="quick-settings-section">
        <h4>Quick Settings:</h4>
        <NumberInput
          label="Max Requests"
          value={settings.quickSettings.maxRequests}
          onChange={(value) => updateQuickSetting('maxRequests', value)}
        />
      </section>
    </div>
  );
};
```

## ğŸ¨ é¢„è®¾æ¨¡å¼è®¾è®¡

### å®‰å…¨æ¨¡å¼ ğŸ”’
```typescript
const SECURITY_MODE: AutoApproveSettings = {
  enabled: true,
  filePermissions: {
    readProjectFiles: true,
    readAllFiles: false,
    editProjectFiles: false,
    editAllFiles: false
  },
  commandPermissions: {
    executeSafeCommands: false,
    executeAllCommands: false,
    customWhitelist: ['ls', 'cat', 'git status']
  },
  externalPermissions: {
    useBrowser: false,
    useMCPServers: false,
    useWebSearch: false
  }
};
```

### å¹³è¡¡æ¨¡å¼ âš–ï¸
```typescript
const BALANCED_MODE: AutoApproveSettings = {
  enabled: true,
  filePermissions: {
    readProjectFiles: true,
    readAllFiles: false,
    editProjectFiles: true,
    editAllFiles: false
  },
  commandPermissions: {
    executeSafeCommands: true,
    executeAllCommands: false,
    customWhitelist: []
  },
  externalPermissions: {
    useBrowser: false,
    useMCPServers: true,
    useWebSearch: true
  }
};
```

### é«˜æ•ˆæ¨¡å¼ ğŸš€
```typescript
const EFFICIENT_MODE: AutoApproveSettings = {
  enabled: true,
  filePermissions: {
    readProjectFiles: true,
    readAllFiles: true,
    editProjectFiles: true,
    editAllFiles: false
  },
  commandPermissions: {
    executeSafeCommands: true,
    executeAllCommands: false,
    customWhitelist: []
  },
  externalPermissions: {
    useBrowser: true,
    useMCPServers: true,
    useWebSearch: true
  }
};
```

## ğŸ“Š ç”¨æˆ·ä½“éªŒå½±å“

### æ•ˆç‡æå‡
```
æ— éœ€ç¡®è®¤çš„æ“ä½œæ¯”ä¾‹:
- å®‰å…¨æ¨¡å¼: ~30%
- å¹³è¡¡æ¨¡å¼: ~70%  
- é«˜æ•ˆæ¨¡å¼: ~90%
- å®Œå…¨ä¿¡ä»»: ~95%

å¹³å‡äº¤äº’å‡å°‘:
- æ¯å°æ—¶èŠ‚çœç¡®è®¤æ¬¡æ•°: 10-50æ¬¡
- å·¥ä½œæµç¨‹ä¸­æ–­å‡å°‘: 60-80%
```

### å®‰å…¨ä¿éšœ
```
é£é™©æ§åˆ¶:
- åˆ†å±‚æƒé™è®¾è®¡
- æ™ºèƒ½é»˜è®¤é…ç½®
- ç”¨æˆ·æ•™è‚²æç¤º
- æ“ä½œå®¡è®¡æ—¥å¿—
```

## ğŸš€ å®æ–½å»ºè®®

### Phase 1: åŸºç¡€æƒé™ç³»ç»Ÿ
- å®ç°æ ¸å¿ƒæƒé™æ£€æŸ¥é€»è¾‘
- è®¾è®¡åŸºç¡€ UI ç•Œé¢
- æ”¯æŒæ–‡ä»¶å’Œå‘½ä»¤æƒé™

### Phase 2: é«˜çº§åŠŸèƒ½
- æ·»åŠ é¢„è®¾æ¨¡å¼
- å®ç°è‡ªå®šä¹‰ç™½åå•
- å¢åŠ æ“ä½œå®¡è®¡

### Phase 3: æ™ºèƒ½ä¼˜åŒ–
- åŸºäºç”¨æˆ·è¡Œä¸ºå­¦ä¹ 
- æ™ºèƒ½æƒé™æ¨è
- é£é™©è¯„ä¼°ç®—æ³•

è¿™ä¸ªåŠŸèƒ½ç¡®å®æ˜¯ Cline çš„ä¸€ä¸ªæ€æ‰‹çº§ç‰¹æ€§ï¼Œæå¤§åœ°æå‡äº† AI Agent çš„å¯ç”¨æ€§ï¼ğŸ¯
